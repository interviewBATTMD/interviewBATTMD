## 1、什么是数据库事务？
数据库事务（transaction）是访问并可能操作各种数据项的一个数据库操作序列，这些操作要么全部执行，要么全部不执行，是一个不可分割的工作单位。事务由事务开始与事务结束之前执行的全部数据库操作组成。  

## 2、数据库事务的特性？
ACID  
原子性（atomicity）：事务作为一个整体被执行，包含在其中的对数据库的操作要么全部被执行，要么都不执行。  
一致性（consistency）：事务应确保数据库的状态从一个一致状态转变为另一个一致状态。一致状态的含义是数据库中的数据应满足完整性约束。  
隔离性（isolation）：多个事务并发执行时，一个事务的执行不应影响其他事务的执行。  
持久性（durability）：已被提交的事务对数据库的修改应该永远保存在数据库中。  

## 3、什么是脏读、幻读、不可重复读
脏读是读到其他事务未提交的数据  
不可重复读值在一个事务中前后读取数据不一致，即读到其他事务已提交的数据，针对update操作；  
幻读是指在一个事务中前后读取的数据总量不一致，例如前后行数不同，针对insert操作。  

## 4、事务的隔离级别和司机封锁协议
如果对封锁的要求高会增加开销，降低并发性和效率；有的事务并不严格要求结果的质量（如用于统计的事务），如果加上严格的封锁则是不必要的和不经济的。因此有必要进行进一步的分析，考察不同级别的一致性对数据库数据的质量及并行能力的影响。  
READ_UNCOMMITTED  
读未提交，即能够读取到没有被提交的数据，所以很明显这个级别的隔离机制无法解决脏读、不可重复读、幻读中的任何一种，因此很少使用  
READ_COMMITED  
读已提交，能够读到哪些已经提交的数据，自然能够防止脏读，但是无法限制不可重复读和幻读。  
REPEATABLE_READ  
重读读取，即在数据读出来之后加锁，类似“select * from xxx for update”，明确数据读取出来就是为了更新用的，所以要加一把锁，防止别人修改它。REPEATABLE_READ的意思也类似，读取了一条数据，这个事务不结束，别的事务就不可以改这条记录，这样就解决了脏读、不可重复读的问题，但是幻读的问题还是无法解决  
SERLALIZABLE  
串行化，最高的事务隔离级别，不管多少事务，挨个运行完一个事务的所有子事务之后才可以执行另外一个事务里面的所有子事务，这样就解决了脏读、不可重复读和幻读的问题。  

## 6、什么是数据库索引？索引的优缺点？  
索引是一种特殊的文件（InnoDB数据表上的索引是表空间的一个组成部分）内部数据结构使用的B+树，B树节点内部包含着数据表里所有记录的引用指针。更通俗的说，数据库索引好比是一本书前面的目录，能加快数据库的查询速度。上诉SQL语句，在没有索引的情况下，数据库会遍历全部数据后选择符合条件的，而有了相应的索引之后，数据库会直接先在索引中查找复合条件的选项。一般数据库默认都会为主键生成索引。  
索引虽然可以加快搜索速度，但是并不是越多越好。索引文件越大，占用空间越多，由于索引底层大多是B+树等平衡多叉树，为了维护平衡，增删的时间效率很差。  

## 索引的底层数据结构，各自的特点
B树和B+树，这两种都是平衡多叉树。B树的结点保存索引和关键字，B+树的非叶子节点保存索引，叶子节点保存关键字的有序链表。  

## 什么是主键、外键？为什么要有主键？
关系型数据库中的一条记录中有若干个属性，若其中某一个属性组能唯一标识一条记录，该属性组就可以成为一个主键比如  
A表中的一个字段，是B表的主键，那他就可以是A表的外键。  

## 数据库范式
为了建立冗余较小，结构合理的数据库，设计数据库时必须遵循一定的规则。在关系型数据库中这种规则就称为范式。范式是符合某一种设计要求的总结。要想设计一个结构合理的关系型数据库，必须满足一定的范式。  
第一范式-确保每列保持原子性  
第一范式是最基本的范式，如果数据库表中所有字段值都是不可分解的原子值，就说明该数据库满足了第一范式。  


## 数据库日志的类型和功能
错误日志：记录mysql实例运行中产生的错误或警告信息，以及每次mysql实例启动和停止的时间，必须有开启。  
查询日志。  
慢查询语句：记录超过指定时间显示查询结果的SQL命令，只会记录执行成功的语句。  
事务日志：事务实际上是依靠事务日志实现的。存储引擎在修改表数据时，只需修改内存拷贝，再把修改行为记录到持久在硬盘上的事务日志中，日志持久化后，内存中修改的数据慢慢刷会磁盘。若在刷回磁盘前系统崩溃，可根据日志恢复。  

## InnoDB和MyISAM引擎各自的特点和适应场景
InnoDB引擎提供了对数据库事务的支持，并且实现了SQL标准的四种隔离级别。该引擎还提供了行级锁和外键约束，它的设计目标是处理大容量数据库系统，它本身其实就是基于mysql后台的完整数据库系统，mysql运行InnoDB会在内存中建立缓冲池，用于缓冲数据和索引，但是该引擎不支持FULLTEXT类型的索引，

## 什么是乐观锁，什么是悲观锁
乐观锁，总是认为不会产生并发问题，每次去取数据的时候总认为不会有其他线程对数据进行修改，因此不会上锁，但是在更新时会判断其他线程在这之前有没有对数据进行修改，一般会使用版本号机制或CAS操作实现。  
version方式  
CAS操作方式：即compare and swap或者compare and set  

悲观锁：总是假设最坏的情况，每次取数据时都认为其他线程会修改，所以都会加锁（读锁、写锁、行锁等），当其他线程想要访问数据时，都需要阻塞挂起，可以依靠数据库实现，如行锁、读锁和写锁等

## redis数据库的缓存一致性，缓存击穿，缓存雪崩，缓存并发


## 什么是菲关系型数据库nosql（KV数据库：redis memcached MongoDB）

## redis数据持久化
redis数据可以持久化，而且支持的数据类型很丰富。有字符串、链表集合和有序集合和hash，redis的所有数据都是保存在内存中，然后不定期地通过异步方式保存到磁盘上（这称为“半持久化模式”）